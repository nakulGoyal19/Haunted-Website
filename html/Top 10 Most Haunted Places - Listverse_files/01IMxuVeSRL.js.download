define("DetailsPriorityFitter",[nut,"StyleUtils","EventUtils"],function(c,u,y){var z="itemMediaContainer title buyingPrice shippingDisclaimer ppuPrice listPrice byLine prime author callToAction-wrapper customerReviews format brand".split(" "),A="itemMediaContainer title buyingPrice shippingDisclaimer ppuPrice listPrice byLine prime author customerReviews callToAction-wrapper format brand".split(" "),v,w,e=function(d){for(var e=0;e<d.length;e++)for(var k=d[e],n=k.getBoundingClientRect(),b=s(k),f=0;f<
b.length;f++){var a=c("."+b[f],k)[0];if(a&&(a=a.getBoundingClientRect(),a.bottom>v||a.bottom>n.bottom||a>w||a.right>n.right))return!1}return!0},s=function(c){return u.existsClass("noPrice",c.className)?A:z},x=function(d,r){v=Math.min(c("#container")[0].getBoundingClientRect().bottom,c("#items")[0].getBoundingClientRect().bottom);w=Math.min(c("#container")[0].getBoundingClientRect().right,c("#items")[0].getBoundingClientRect().right);r(c(".truncate"));for(var k={},n={},b=0;b<d.length;++b){var f=d[b];
k[b]={};n[b]=[];for(var a=s(f),g=0;g<a.length;++g){var l=a[g],h=c("."+l,f)[0];h&&(k[b][l]=u.getStyle(h,"display"),h.style.display="none")}}f=0;l=Array(d.length);for(g=0;g<l.length;g++)l[g]=!0;do{g=!1;for(b=0;b<d.length;++b){var h=!0,m=d[b],a=s(m);if(l[b]&&!(f>=a.length)){var g=!0,a=a[f],p=c("."+a,m)[0];if(p){p.style.display=k[b][a];"none"==p.style.display&&(h=!1);if("shippingDisclaimer"==a){var q=c(".buyingPrice",m)[0];q||"hidden"!=q.display||(h=!1)}if(!(!h||e(d)&&e(c("#primeDayBadge"))||(r(c(".truncate",
p)),e(d)&&e(c("#primeDayBadge"))))){for(var q=n[b],t=q.length-1;0<=t&&(r(c(".truncate",q[t])),e(d)&&e(c("#primeDayBadge")));--t);e(d)&&e(c("#primeDayBadge"))||(h=!1)}h?(m.className+=" "+a+"Shown",n[b].push(p)):(p.style.display="none",m.className+=" "+a+"Hidden",0==f&&(l[b]=!1))}}}f++}while(g);y.trigger("dra-details-prioritized",!0)};x.autoTruncates=!0;return x});